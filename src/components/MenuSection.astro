---
import MenuItem from './MenuItem.astro';
import { l, type Locale } from '../i18n/utils';

interface MenuItemType {
  id: string;
  name: { en: string; ua: string };
  description: { en: string; ua: string };
  price: number;
  note?: { en: string; ua: string };
  dietary: string[];
}

interface Category {
  id: string;
  title: { en: string; ua: string };
  items: MenuItemType[];
}

interface Props {
  menuTitle: { en: string; ua: string };
  categories: Category[];
  locale: Locale;
  menuId: string;
}

const { menuTitle, categories, locale, menuId } = Astro.props;
---

<section id={menuId} class="scroll-mt-20">
  <div class="mb-6">
    <h2 class="text-2xl sm:text-3xl font-bold font-[Playfair_Display] text-brand-800">
      {l(menuTitle, locale)}
    </h2>
    <div class="mt-2 w-16 h-1 bg-brand-500 rounded-full"></div>
  </div>

  {categories.map((category) => (
    <div class="mb-8 last:mb-0" id={category.id}>
      {categories.length > 1 && (
        <h3 class="text-lg font-semibold text-warm-700 mb-3 pb-2 border-b border-warm-200">
          {l(category.title, locale)}
        </h3>
      )}
      <div class="divide-y divide-warm-100">
        {category.items.map((item) => (
          <MenuItem item={item} locale={locale} />
        ))}
      </div>
    </div>
  ))}
</section>
